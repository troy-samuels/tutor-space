import type { MissingPiecePuzzle } from "./types";

/**
 * Spanish Missing Piece — B2 (Upper Intermediate)
 * Focus: Advanced subjunctive, complex conditionals, formal register, advanced idioms, nuance
 * Vocabulary: ~4000 words. Academic, formal, abstract concepts
 */
export const PUZZLES_ES_B2: MissingPiecePuzzle[] = [
  {
    number: 401,
    language: "es",
    date: "2026-05-01",
    cefrLevel: "B2",
    sentences: [
      { sentence: "Habría venido si me lo ___.", options: ["hubieras dicho", "dijiste", "dices", "dirías"], correctIndex: 0, explanation: "Third conditional: would have + if + pluperfect subjunctive. I WOULD HAVE come if you HAD TOLD me.", category: "grammar", difficulty: 3, cefrLevel: "B2", grammarTopic: "complex-conditionals" },
      { sentence: "___ lo que ___, no me rendiré.", options: ["Pase...pase", "Pasa...pasa", "Pasó...pasó", "Pasará...pasará"], correctIndex: 0, explanation: "Reduplicated subjunctive: 'Whatever happens.' Concessive construction.", category: "grammar", difficulty: 3, cefrLevel: "B2", grammarTopic: "subjunctive-advanced" },
      { sentence: "Busco a alguien que ___ tres idiomas.", options: ["hable", "habla", "hablará", "hablaba"], correctIndex: 0, explanation: "Subjunctive in relative clauses with indefinite antecedent: I'm looking for someone who SPEAKS...", category: "grammar", difficulty: 3, cefrLevel: "B2", grammarTopic: "subjunctive-relative-clauses" },
      { sentence: "No es que no ___, sino que no tengo tiempo.", options: ["quiera", "quiero", "querré", "quería"], correctIndex: 0, explanation: "'No es que' + subjunctive: It's not that I don't WANT to, but...", category: "grammar", difficulty: 3, cefrLevel: "B2", grammarTopic: "subjunctive-advanced" },
      { sentence: "Se ruega a los asistentes que ___ sus móviles.", options: ["apaguen", "apagan", "apagarán", "apagaron"], correctIndex: 0, explanation: "Formal request: 'Se ruega que' + subjunctive. Attendees are asked to TURN OFF their phones.", category: "grammar", difficulty: 3, cefrLevel: "B2", grammarTopic: "formal-register" },
      { sentence: "De haber sabido la verdad, no ___ eso.", options: ["habría dicho", "dije", "diré", "decía"], correctIndex: 0, explanation: "'De + infinitive compound' replaces 'si' clause. Had I known, I wouldn't HAVE SAID that.", category: "grammar", difficulty: 3, cefrLevel: "B2", grammarTopic: "complex-conditionals" },
      { sentence: "La decisión fue tomada ___ el comité.", options: ["por", "para", "de", "con"], correctIndex: 0, explanation: "Passive voice: 'ser + past participle + por'. The decision was made BY the committee.", category: "grammar", difficulty: 3, cefrLevel: "B2", grammarTopic: "passive-advanced" },
      { sentence: "Resulta ___ que la empresa cierre.", options: ["imprescindible", "embarazoso", "constipado", "actual"], correctIndex: 0, explanation: "'Imprescindible' = essential/indispensable. It's essential that the company close.", category: "vocabulary", difficulty: 3, cefrLevel: "B2", grammarTopic: "formal-register" },
      { sentence: "Quien ___ interesado, que se ponga en contacto.", options: ["esté", "está", "estará", "estaba"], correctIndex: 0, explanation: "'Quien' + subjunctive for unknown/general referent: Whoever IS interested...", category: "grammar", difficulty: 3, cefrLevel: "B2", grammarTopic: "subjunctive-relative-clauses" },
      { sentence: "Le habría ayudado con tal de que me lo ___.", options: ["hubiera pedido", "pidió", "pide", "pediría"], correctIndex: 0, explanation: "'Con tal de que' + pluperfect subjunctive in past. I would have helped provided he HAD ASKED.", category: "grammar", difficulty: 3, cefrLevel: "B2", grammarTopic: "complex-conditionals" },
      { sentence: "A medida que ___ el proyecto, surgen nuevos retos.", options: ["avanza", "avance", "avanzara", "avanzó"], correctIndex: 0, explanation: "'A medida que' + indicative for factual progression: As the project ADVANCES...", category: "vocabulary", difficulty: 3, cefrLevel: "B2", grammarTopic: "discourse-markers" },
      { sentence: "No obstante, la situación ___ compleja.", options: ["sigue siendo", "sigue ser", "seguirá ser", "seguía ser"], correctIndex: 0, explanation: "'Seguir + gerund' = to continue being. 'No obstante' = nevertheless.", category: "vocabulary", difficulty: 3, cefrLevel: "B2", grammarTopic: "style-register-awareness" },
      { sentence: "Es poco probable que el gobierno ___ esa ley.", options: ["apruebe", "aprueba", "aprobará", "aprobó"], correctIndex: 0, explanation: "'Es poco probable que' + subjunctive: It's unlikely the government WILL approve that law.", category: "grammar", difficulty: 3, cefrLevel: "B2", grammarTopic: "subjunctive-advanced" },
      { sentence: "Dicho ___, procedamos al siguiente punto.", options: ["esto", "eso", "aquello", "lo"], correctIndex: 0, explanation: "'Dicho esto' = that said. Formal discourse marker for transitioning.", category: "vocabulary", difficulty: 3, cefrLevel: "B2", grammarTopic: "style-register-awareness" },
      { sentence: "Huelga ___ que su contribución ha sido fundamental.", options: ["decir", "dicho", "decirse", "diciendo"], correctIndex: 0, explanation: "'Huelga decir' = it goes without saying (formal). Needless TO SAY...", category: "idiom", difficulty: 3, cefrLevel: "B2", grammarTopic: "advanced-idioms" },
    ],
  },
  {
    number: 402,
    language: "es",
    date: "2026-05-02",
    cefrLevel: "B2",
    sentences: [
      { sentence: "Si no ___ tan tarde, habríamos llegado a tiempo.", options: ["hubiéramos salido", "salimos", "saldríamos", "salíamos"], correctIndex: 0, explanation: "Third conditional: If we hadn't LEFT so late, we would have arrived on time.", category: "grammar", difficulty: 3, cefrLevel: "B2", grammarTopic: "complex-conditionals" },
      { sentence: "Sea ___ sea el resultado, estaremos orgullosos.", options: ["cual", "que", "como", "lo que"], correctIndex: 0, explanation: "'Sea cual sea' = whatever it may be. Reduplicated subjunctive concession.", category: "grammar", difficulty: 3, cefrLevel: "B2", grammarTopic: "subjunctive-advanced" },
      { sentence: "Necesitamos un sistema que ___ más eficiente.", options: ["sea", "es", "será", "era"], correctIndex: 0, explanation: "Subjunctive in relative clause: We need a system that IS more efficient (hypothetical).", category: "grammar", difficulty: 3, cefrLevel: "B2", grammarTopic: "subjunctive-relative-clauses" },
      { sentence: "Se ___ que el ministro dimita pronto.", options: ["rumorea", "rumora", "rumoriza", "rumoreja"], correctIndex: 0, explanation: "'Se rumorea que' = it's rumoured that. Impersonal 'se' construction.", category: "grammar", difficulty: 3, cefrLevel: "B2", grammarTopic: "passive-advanced" },
      { sentence: "Cuanto más estudies, ___ resultados tendrás.", options: ["mejores", "mejor", "más buenos", "buenos"], correctIndex: 0, explanation: "'Cuanto más...mejores' = the more...the better. Correlative comparative.", category: "grammar", difficulty: 3, cefrLevel: "B2", grammarTopic: "collocations" },
      { sentence: "Dado que no ___ otra opción, aceptamos.", options: ["había", "haya", "hubiera", "habrá"], correctIndex: 0, explanation: "'Dado que' (given that) + indicative for factual cause: Since there WAS no other option.", category: "vocabulary", difficulty: 3, cefrLevel: "B2", grammarTopic: "discourse-markers" },
      { sentence: "Con ___ de conseguir financiación, viajó a Londres.", options: ["el fin", "fin", "la fin", "un fin"], correctIndex: 0, explanation: "'Con el fin de' = with the aim of. Formal purpose clause.", category: "vocabulary", difficulty: 3, cefrLevel: "B2", grammarTopic: "formal-register" },
      { sentence: "Quienquiera que ___ responsable, deberá disculparse.", options: ["sea", "es", "será", "fue"], correctIndex: 0, explanation: "'Quienquiera que' + subjunctive: Whoever IS responsible must apologise.", category: "grammar", difficulty: 3, cefrLevel: "B2", grammarTopic: "subjunctive-advanced" },
      { sentence: "Me temo que no ___ posible asistir.", options: ["sea", "es", "será", "fue"], correctIndex: 0, explanation: "'Me temo que' + subjunctive (with doubt nuance): I'm afraid it won't BE possible.", category: "grammar", difficulty: 3, cefrLevel: "B2", grammarTopic: "subjunctive-advanced" },
      { sentence: "Por mucho que ___, no conseguirá convencerme.", options: ["insista", "insiste", "insistirá", "insistió"], correctIndex: 0, explanation: "'Por mucho que' + subjunctive: No matter how much he INSISTS...", category: "grammar", difficulty: 3, cefrLevel: "B2", grammarTopic: "subjunctive-advanced" },
      { sentence: "Cabe ___ que los datos son preliminares.", options: ["señalar", "señalando", "señalado", "señala"], correctIndex: 0, explanation: "'Cabe señalar' = it should be noted. Formal/academic register.", category: "vocabulary", difficulty: 3, cefrLevel: "B2", grammarTopic: "formal-register" },
      { sentence: "El informe, cuyas ___ son preocupantes, será debatido.", options: ["conclusiones", "conclusión", "concluidos", "concluidas"], correctIndex: 0, explanation: "'Cuyas' = whose (feminine plural). Relative pronoun agreeing with 'conclusiones'.", category: "grammar", difficulty: 3, cefrLevel: "B2", grammarTopic: "nuanced-prepositions" },
      { sentence: "No bien ___ la noticia, se desmayó.", options: ["recibió", "recibiera", "reciba", "recibiría"], correctIndex: 0, explanation: "'No bien' + preterite = as soon as. As soon as she RECEIVED the news...", category: "grammar", difficulty: 3, cefrLevel: "B2", grammarTopic: "style-register-awareness" },
      { sentence: "Echó ___ perder la oportunidad.", options: ["a", "de", "por", "en"], correctIndex: 0, explanation: "'Echar a perder' = to ruin/waste. He wasted the opportunity.", category: "idiom", difficulty: 3, cefrLevel: "B2", grammarTopic: "advanced-idioms" },
      { sentence: "En lo ___ a la propuesta, la rechazamos.", options: ["tocante", "referente", "relativo", "que toca"], correctIndex: 0, explanation: "'En lo tocante a' = regarding/with respect to. Formal register.", category: "vocabulary", difficulty: 3, cefrLevel: "B2", grammarTopic: "formal-register" },
    ],
  },
];
